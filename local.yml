- hosts: localhost
  become: true
  vars_files:
    - vars.yml

  pre_tasks:
    - name: update repositories
      apt:
        update_cache: yes
      changed_when: False

  tasks:
    - include: tasks/cron/setup.yml
    - include: tasks/git/setup.yml
    - include: tasks/misc/apt-packages.yml
    - include: tasks/dev/misc/apt-packages.yml
    - include: tasks/dev/node/install.yml
    - include: tasks/apps/vscode/install.yml
    - include: tasks/apps/vim/install.yml
    - include: tasks/apps/tmux/install.yml
    - include: tasks/apps/remmina/install.yml
    - include: tasks/system/power-management.yml
    - include: tasks/desktop/setup.yml
    - include: tasks/desktop/plank.yml
    - include: tasks/apps/virtualbox/install.yml

    - include: tasks/pcfs/install-github-release.yml
      vars:
        repository: "{{om_cli.repository}}"
        install_location: "{{om_cli.install_location}}"

    - include: tasks/pcfs/install-github-release.yml
      vars:
        repository: "{{pivnet_cli.repository}}"
        install_location: "{{pivnet_cli.install_location}}"

    - include: tasks/pcfs/install-github-release.yml
      vars:
        repository: "{{bbl_cli.repository}}"
        install_location: "{{bbl_cli.install_location}}"

    - include: tasks/pcfs/install-cf-cli.yml
    - include: tasks/pcfs/install-terraform-cli.yml
    - include: tasks/pcfs/install-packer-cli.yml
    - include: tasks/pcfs/install-bosh-cli.yml
    - include: tasks/pcfs/install-aws-cli.yml
